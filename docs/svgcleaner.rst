.. This file is autogenerated. Do not edit it!

.. contents:: List of cleaning options

Elements
========

Remove XML comments
-------------------

We can remove all XML comments from SVG document since they are not rendered either way.

**Note:** all comments from the ``style`` attribute will be removed anyway.

CLI argument: ``--remove-comments``

+---------------------------------------------------+-----------------------------------------------+
| Before (244b)                                     | After (195b)                                  |
+---------------------------------------------------+-----------------------------------------------+
| .. code-block:: XML                               | .. code-block:: XML                           |
|                                                   |                                               |
|   <!-- Comment -->                                |   <svg>                                       |
|   <svg>                                           |     <circle style="stroke:black" fill="green" |
|     <!-- Comment -->                              |             cx="50" cy="50" r="45"/>          |
|     <circle style="/* comment */stroke:black"     |   </svg>                                      |
|             fill="green" cx="50" cy="50" r="45"/> |                                               |
|   </svg>                                          |                                               |
+---------------------------------------------------+-----------------------------------------------+
| |before-remove-comments|                          | |after-remove-comments|                       |
+---------------------------------------------------+-----------------------------------------------+

.. |before-remove-comments| image:: https://razrfalcon.github.io/svgcleaner/images/before/remove-comments.svg
.. |after-remove-comments| image:: https://razrfalcon.github.io/svgcleaner/images/after/remove-comments.svg


Remove XML declarations
-----------------------

Removes XML declarations from SVG document.

``svgcleaner`` will remove all declarations, even though they are only allowed
at the start of the document.

CLI argument: ``--remove-declarations``

+----------------------------------------------------------+-----------------------------+
| Before (165b)                                            | After (110b)                |
+----------------------------------------------------------+-----------------------------+
| .. code-block:: XML                                      | .. code-block:: XML         |
|                                                          |                             |
|   <?xml version="1.0" encoding="UTF-8" standalone="no"?> |   <svg/>                    |
|   <svg/>                                                 |                             |
+----------------------------------------------------------+-----------------------------+
| |before-remove-declarations|                             | |after-remove-declarations| |
+----------------------------------------------------------+-----------------------------+

.. |before-remove-declarations| image:: https://razrfalcon.github.io/svgcleaner/images/before/remove-declarations.svg
.. |after-remove-declarations| image:: https://razrfalcon.github.io/svgcleaner/images/after/remove-declarations.svg


Remove non-SVG elements
-----------------------

We can remove any XML elements with `non-SVG tag names <https://www.w3.org/TR/SVG/eltindex.html>`_,
since they are not rendered either way.

**Note:** elements from the SVG Tiny 1.2 and SVG 2.0 (unreleased) will also be removed.

CLI argument: ``--remove-nonsvg-elements``

+---------------------------------------------------+---------------------------------------------------+
| Before (179b)                                     | After (164b)                                      |
+---------------------------------------------------+---------------------------------------------------+
| .. code-block:: XML                               | .. code-block:: XML                               |
|                                                   |                                                   |
|   <svg>                                           |   <svg>                                           |
|     <myelement/>                                  |     <circle fill="green" cx="50" cy="50" r="45"/> |
|     <circle fill="green" cx="50" cy="50" r="45"/> |   </svg>                                          |
|   </svg>                                          |                                                   |
+---------------------------------------------------+---------------------------------------------------+
| |before-remove-nonsvg-elements|                   | |after-remove-nonsvg-elements|                    |
+---------------------------------------------------+---------------------------------------------------+

.. |before-remove-nonsvg-elements| image:: https://razrfalcon.github.io/svgcleaner/images/before/remove-nonsvg-elements.svg
.. |after-remove-nonsvg-elements| image:: https://razrfalcon.github.io/svgcleaner/images/after/remove-nonsvg-elements.svg


Remove unused referenced elements
---------------------------------

We can remove any `referenced <https://www.w3.org/TR/SVG/struct.html#Head>`_ elements from the
SVG document if no other elements are linked to them.

A link can be established via IRI or `FuncIRI <https://www.w3.org/TR/SVG/linking.html#IRIforms>`_.

Also, we can remove any unreferenced elements inside the `defs` elements,
since they are not rendered either way.

**Note:** the ``font-face`` element should be ignored, because it applies to the whole
document and not to a specific node.

CLI argument: ``--remove-unused-defs``

+------------------------------------------------+------------------------------------------------+
| Before (638b)                                  | After (388b)                                   |
+------------------------------------------------+------------------------------------------------+
| .. code-block:: XML                            | .. code-block:: XML                            |
|                                                |                                                |
|   <svg>                                        |   <svg>                                        |
|     <defs>                                     |     <defs>                                     |
|       <g fill="red">                           |       <circle id="circle1" fill="url(#rg1)"    |
|         <circle id="circle1" fill="url(#rg1)"  |               cx="50" cy="50" r="50"/>         |
|                 cx="50" cy="50" r="50"/>       |       <radialGradient id="rg1">                |
|         <circle id="circle2" fill="url(#rg2)"  |         <stop offset="0" stop-color="yellow"/> |
|                 cx="50" cy="50" r="50"/>       |         <stop offset="1" stop-color="green"/>  |
|       </g>                                     |       </radialGradient>                        |
|       <radialGradient id="rg1">                |       </defs>                                  |
|         <stop offset="0" stop-color="yellow"/> |     <use xlink:href="#circle1"/>               |
|         <stop offset="1" stop-color="green"/>  |   </svg>                                       |
|       </radialGradient>                        |                                                |
|       <radialGradient id="rg2">                |                                                |
|         <stop offset="0" stop-color="red"/>    |                                                |
|         <stop offset="1" stop-color="blue"/>   |                                                |
|       </radialGradient>                        |                                                |
|     </defs>                                    |                                                |
|     <use xlink:href="#circle1"/>               |                                                |
|   </svg>                                       |                                                |
+------------------------------------------------+------------------------------------------------+
| |before-remove-unused-defs|                    | |after-remove-unused-defs|                     |
+------------------------------------------------+------------------------------------------------+

.. |before-remove-unused-defs| image:: https://razrfalcon.github.io/svgcleaner/images/before/remove-unused-defs.svg
.. |after-remove-unused-defs| image:: https://razrfalcon.github.io/svgcleaner/images/after/remove-unused-defs.svg


Convert basic shapes into paths
-------------------------------

All basic shapes can be represented as ``path``.

``circle``, ``ellipse`` and rounded ``rect`` are ignored, because their path representation will
always be bigger than original.

**Note:** shapes may render a bit differently depending on your user agent.
You can use `shape-rendering <https://www.w3.org/TR/SVG/painting.html#ShapeRenderingProperty>`_
attribute to tweak it.

CLI argument: ``--convert-shapes``

+--------------------------------------------+------------------------------------------+
| Before (548b)                              | After (466b)                             |
+--------------------------------------------+------------------------------------------+
| .. code-block:: XML                        | .. code-block:: XML                      |
|                                            |                                          |
|   <svg id="svg1">                          |   <svg>                                  |
|     <rect id="rect1" x="10" y="10"         |     <path id="rect1"                     |
|            width="80" height="80"/>        |           d="M 10 10 H 90 V 90 H 10 Z"/> |
|     <line id="line1" stroke="red" x1="10"  |     <path id="line1" stroke="red"        |
|           y1="90" x2="90" y2="10"/>        |           d="M 10 90 L 90 10"/>          |
|     <polyline id="polyline1" stroke="blue" |     <path id="polyline1" stroke="blue"   |
|               fill="none"                  |           fill="none"                    |
|               points="10 10 30 10 30 30    |           d="M 10 10 30 10 30 30         |
|                       50 30 50 50"/>       |              50 30 50 50"/>              |
|     <polygon id="polygon1" stroke="green"  |     <path id="polygon1" stroke="green"   |
|                 fill="none"                |           fill="none"                    |
|                 points="10 10 10 30 30 30  |           d="M 10 10 10 30               |
|                         30 50 50 50"/>     |              30 30 30 50 50 50 Z"/>      |
|   </svg>                                   |   </svg>                                 |
+--------------------------------------------+------------------------------------------+
| |before-convert-shapes|                    | |after-convert-shapes|                   |
+--------------------------------------------+------------------------------------------+

.. |before-convert-shapes| image:: https://razrfalcon.github.io/svgcleaner/images/before/convert-shapes.svg
.. |after-convert-shapes| image:: https://razrfalcon.github.io/svgcleaner/images/after/convert-shapes.svg


Remove ``title`` element
------------------------

We can remove all `title <https://www.w3.org/TR/SVG/struct.html#DescriptionAndTitleElements>`_
elements since they are not rendered either way.

But since this element can be used by render software - this action is optional.

CLI argument: ``--remove-title``

+---------------------------------------------------+---------------------------------------------------+
| Before (192b)                                     | After (164b)                                      |
+---------------------------------------------------+---------------------------------------------------+
| .. code-block:: XML                               | .. code-block:: XML                               |
|                                                   |                                                   |
|   <svg>                                           |   <svg>                                           |
|     <title>svgcleaner</title>                     |     <circle fill="green" cx="50" cy="50" r="45"/> |
|     <circle fill="green" cx="50" cy="50" r="45"/> |   </svg>                                          |
|   </svg>                                          |                                                   |
+---------------------------------------------------+---------------------------------------------------+
| |before-remove-title|                             | |after-remove-title|                              |
+---------------------------------------------------+---------------------------------------------------+

.. |before-remove-title| image:: https://razrfalcon.github.io/svgcleaner/images/before/remove-title.svg
.. |after-remove-title| image:: https://razrfalcon.github.io/svgcleaner/images/after/remove-title.svg


Remove ``desc`` element
------------------------

We can remove all `desc <https://www.w3.org/TR/SVG/struct.html#DescriptionAndTitleElements>`_
elements since they are not rendered either way.

But since this element can be used by render software - this action is optional.

CLI argument: ``--remove-desc``

+---------------------------------------------------+---------------------------------------------------+
| Before (190b)                                     | After (164b)                                      |
+---------------------------------------------------+---------------------------------------------------+
| .. code-block:: XML                               | .. code-block:: XML                               |
|                                                   |                                                   |
|   <svg>                                           |   <svg>                                           |
|     <desc>svgcleaner</desc>                       |     <circle fill="green" cx="50" cy="50" r="45"/> |
|     <circle fill="green" cx="50" cy="50" r="45"/> |   </svg>                                          |
|   </svg>                                          |                                                   |
+---------------------------------------------------+---------------------------------------------------+
| |before-remove-desc|                              | |after-remove-desc|                               |
+---------------------------------------------------+---------------------------------------------------+

.. |before-remove-desc| image:: https://razrfalcon.github.io/svgcleaner/images/before/remove-desc.svg
.. |after-remove-desc| image:: https://razrfalcon.github.io/svgcleaner/images/after/remove-desc.svg


Remove ``metadata`` element
---------------------------

We can remove all `metadata <https://www.w3.org/TR/SVG/metadata.html#MetadataElement>`_
elements since they are not rendered either way.

But since this element can be used by render software - this action is optional.

CLI argument: ``--remove-metadata``

+---------------------------------------------------------------------+-----------------------------------------------------------------+
| Before (581b)                                                       | After (316b)                                                    |
+---------------------------------------------------------------------+-----------------------------------------------------------------+
| .. code-block:: XML                                                 | .. code-block:: XML                                             |
|                                                                     |                                                                 |
|   <svg xmlns:dc="http://purl.org/dc/elements/1.1/"                  |   <svg xmlns:dc="http://purl.org/dc/elements/1.1/"              |
|        xmlns:cc="http://creativecommons.org/ns#"                    |        xmlns:cc="http://creativecommons.org/ns#"                |
|        xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">     |        xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"> |
|     <metadata id="metadata1">                                       |     <circle fill="green" cx="50" cy="50" r="45"/>               |
|       <rdf:RDF>                                                     |   </svg>                                                        |
|         <cc:Work rdf:about="">                                      |                                                                 |
|           <dc:format>image/svg+xml</dc:format>                      |                                                                 |
|           <dc:type                                                  |                                                                 |
|             rdf:resource="http://purl.org/dc/dcmitype/StillImage"/> |                                                                 |
|           <dc:title/>                                               |                                                                 |
|         </cc:Work>                                                  |                                                                 |
|       </rdf:RDF>                                                    |                                                                 |
|     </metadata>                                                     |                                                                 |
|     <circle fill="green" cx="50" cy="50" r="45"/>                   |                                                                 |
|   </svg>                                                            |                                                                 |
+---------------------------------------------------------------------+-----------------------------------------------------------------+
| |before-remove-metadata|                                            | |after-remove-metadata|                                         |
+---------------------------------------------------------------------+-----------------------------------------------------------------+

.. |before-remove-metadata| image:: https://razrfalcon.github.io/svgcleaner/images/before/remove-metadata.svg
.. |after-remove-metadata| image:: https://razrfalcon.github.io/svgcleaner/images/after/remove-metadata.svg


Remove duplicated ``linearGradient`` elements
---------------------------------------------

An SVG can contain a lot of ``linearGradient`` elements, which may render exactly the same.
So we can remove duplicates and update links in elements, that uses them.

CLI argument: ``--remove-dupl-lineargradient``

+-------------------------------------------+---------------------------------------+
| Before (722b)                             | After (488b)                          |
+-------------------------------------------+---------------------------------------+
| .. code-block:: XML                       | .. code-block:: XML                   |
|                                           |                                       |
|   <svg>                                   |   <svg>                               |
|     <defs>                                |     <defs>                            |
|       <linearGradient id="lg1">           |       <linearGradient id="lg1">       |
|         <stop offset="0"                  |         <stop offset="0"              |
|               stop-color="yellow"/>       |               stop-color="yellow"/>   |
|         <stop offset="1"                  |         <stop offset="1"              |
|               stop-color="green"/>        |               stop-color="green"/>    |
|       </linearGradient>                   |       </linearGradient>               |
|       <linearGradient id="lg2">           |     </defs>                           |
|         <stop offset="0"                  |     <circle fill="url(#lg1)"          |
|               stop-color="yellow"/>       |             cx="50" cy="50" r="45"/>  |
|         <stop offset="1"                  |     <circle fill="url(#lg1)"          |
|               stop-color="green"/>        |             cx="100" cy="50" r="45"/> |
|       </linearGradient>                   |     <circle fill="url(#lg1)"          |
|       <linearGradient id="lg3"            |             cx="150" cy="50" r="45"/> |
|                       xlink:href="#lg2"/> |   </svg>                              |
|     </defs>                               |                                       |
|     <circle fill="url(#lg1)"              |                                       |
|             cx="50" cy="50" r="45"/>      |                                       |
|     <circle fill="url(#lg2)"              |                                       |
|             cx="100" cy="50" r="45"/>     |                                       |
|     <circle fill="url(#lg3)"              |                                       |
|             cx="150" cy="50" r="45"/>     |                                       |
|   </svg>                                  |                                       |
+-------------------------------------------+---------------------------------------+
| |before-remove-dupl-lineargradient|       | |after-remove-dupl-lineargradient|    |
+-------------------------------------------+---------------------------------------+

.. |before-remove-dupl-lineargradient| image:: https://razrfalcon.github.io/svgcleaner/images/before/remove-dupl-lineargradient.svg
.. |after-remove-dupl-lineargradient| image:: https://razrfalcon.github.io/svgcleaner/images/after/remove-dupl-lineargradient.svg


Remove duplicated ``radialGradient`` elements
---------------------------------------------

An SVG can contain a lot of ``radialGradient`` elements, which may render exactly the same.
So we can remove duplicates and update links in elements, that uses them.

CLI argument: ``--remove-dupl-radialgradient``

+-------------------------------------------+---------------------------------------+
| Before (659b)                             | After (425b)                          |
+-------------------------------------------+---------------------------------------+
| .. code-block:: XML                       | .. code-block:: XML                   |
|                                           |                                       |
|   <svg>                                   |   <svg>                               |
|     <defs>                                |     <defs>                            |
|       <radialGradient id="rg1">           |       <radialGradient id="rg1">       |
|         <stop offset="0"                  |         <stop offset="0"              |
|               stop-color="yellow"/>       |               stop-color="yellow"/>   |
|         <stop offset="1"                  |         <stop offset="1"              |
|               stop-color="green"/>        |               stop-color="green"/>    |
|       </radialGradient>                   |       </radialGradient>               |
|       <linearGradient id="lg1">           |     </defs>                           |
|         <stop offset="0"                  |     <circle fill="url(#rg1)"          |
|               stop-color="yellow"/>       |             cx="50" cy="50" r="45"/>  |
|         <stop offset="1"                  |     <circle fill="url(#rg1)"          |
|               stop-color="green"/>        |             cx="100" cy="50" r="45"/> |
|       </linearGradient>                   |   </svg>                              |
|       <radialGradient id="rg2"            |                                       |
|                       xlink:href="#lg1"/> |                                       |
|     </defs>                               |                                       |
|     <circle fill="url(#rg1)"              |                                       |
|             cx="50" cy="50" r="45"/>      |                                       |
|     <circle fill="url(#rg2)"              |                                       |
|             cx="100" cy="50" r="45"/>     |                                       |
|   </svg>                                  |                                       |
+-------------------------------------------+---------------------------------------+
| |before-remove-dupl-radialgradient|       | |after-remove-dupl-radialgradient|    |
+-------------------------------------------+---------------------------------------+

.. |before-remove-dupl-radialgradient| image:: https://razrfalcon.github.io/svgcleaner/images/before/remove-dupl-radialgradient.svg
.. |after-remove-dupl-radialgradient| image:: https://razrfalcon.github.io/svgcleaner/images/after/remove-dupl-radialgradient.svg


Remove duplicated ``feGaussianBlur`` elements
---------------------------------------------

An SVG can contain a lot of ``feGaussianBlur`` elements, which may render exactly the same.
So we can remove duplicates and update links in elements, that uses them.

CLI argument: ``--remove-dupl-fegaussianblur``

+--------------------------------------------+--------------------------------------------+
| Before (440b)                              | After (364b)                               |
+--------------------------------------------+--------------------------------------------+
| .. code-block:: XML                        | .. code-block:: XML                        |
|                                            |                                            |
|   <svg>                                    |   <svg>                                    |
|     <defs>                                 |     <defs>                                 |
|       <filter id='f1'>                     |       <filter id='f1'>                     |
|         <feGaussianBlur stdDeviation='2'/> |         <feGaussianBlur stdDeviation='2'/> |
|       </filter>                            |       </filter>                            |
|       <filter id='f2'>                     |     </defs>                                |
|         <feGaussianBlur stdDeviation='2'/> |     <circle filter="url(#f1)" fill="green" |
|       </filter>                            |             cx="50" cy="50" r="45"/>       |
|     </defs>                                |     <circle filter="url(#f1)" fill="green" |
|     <circle filter="url(#f1)" fill="green" |             cx="100" cy="50" r="45"/>      |
|             cx="50" cy="50" r="45"/>       |   </svg>                                   |
|     <circle filter="url(#f2)" fill="green" |                                            |
|             cx="100" cy="50" r="45"/>      |                                            |
|   </svg>                                   |                                            |
+--------------------------------------------+--------------------------------------------+
| |before-remove-dupl-fegaussianblur|        | |after-remove-dupl-fegaussianblur|         |
+--------------------------------------------+--------------------------------------------+

.. |before-remove-dupl-fegaussianblur| image:: https://razrfalcon.github.io/svgcleaner/images/before/remove-dupl-fegaussianblur.svg
.. |after-remove-dupl-fegaussianblur| image:: https://razrfalcon.github.io/svgcleaner/images/after/remove-dupl-fegaussianblur.svg


Ungroup groups
--------------

Groups, aka ``g`` element, is one of the main SVG structure blocks,
but in a lot of cases they do not impact rendering at all.

Groups are useless:
 - if the group is empty
 - if the group has only one children
 - if the group doesn't have any important attributes

Then we can ungroup it and remove.

CLI argument: ``--ungroup-groups``

+---------------------------------------+-----------------------------------+
| Before (277b)                         | After (235b)                      |
+---------------------------------------+-----------------------------------+
| .. code-block:: XML                   | .. code-block:: XML               |
|                                       |                                   |
|   <svg>                               |   <svg>                           |
|     <g>                               |     <circle fill="green" r="45"   |
|       <circle fill="green" r="45"     |             cx="50" cy="50"/>     |
|               cx="50" cy="50"/>       |     <circle fill="#023373" r="45" |
|       <g>                             |             cx="100" cy="50"/>    |
|         <circle fill="#023373" r="45" |   </svg>                          |
|                 cx="100" cy="50"/>    |                                   |
|       </g>                            |                                   |
|     </g>                              |                                   |
|   </svg>                              |                                   |
+---------------------------------------+-----------------------------------+
| |before-ungroup-groups|               | |after-ungroup-groups|            |
+---------------------------------------+-----------------------------------+

.. |before-ungroup-groups| image:: https://razrfalcon.github.io/svgcleaner/images/before/ungroup-groups.svg
.. |after-ungroup-groups| image:: https://razrfalcon.github.io/svgcleaner/images/after/ungroup-groups.svg


Ungroup ``defs`` element
------------------------

If the ``defs`` element contains only `referenced <https://www.w3.org/TR/SVG/struct.html#Head>`_
elements - it can be ungrouped.

**Unsupported by:** QtSvg <= 5.7 (``pattern`` with ``image`` child renders incorrectly)

CLI argument: ``--ungroup-defs``

+-------------------------------------+-------------------------------------+
| Before (362b)                       | After (331b)                        |
+-------------------------------------+-------------------------------------+
| .. code-block:: XML                 | .. code-block:: XML                 |
|                                     |                                     |
|   <svg>                             |   <svg>                             |
|     <defs>                          |     <radialGradient id="rg1">       |
|       <radialGradient id="rg1">     |       <stop offset="0"              |
|         <stop offset="0"            |             stop-color="yellow"/>   |
|               stop-color="yellow"/> |       <stop offset="1"              |
|         <stop offset="1"            |             stop-color="green"/>    |
|               stop-color="green"/>  |     </radialGradient>               |
|       </radialGradient>             |     <circle fill="url(#rg1)" r="45" |
|     </defs>                         |             cx="50" cy="50"/>       |
|     <circle fill="url(#rg1)" r="45" |   </svg>                            |
|             cx="50" cy="50"/>       |                                     |
|   </svg>                            |                                     |
+-------------------------------------+-------------------------------------+
| |before-ungroup-defs|               | |after-ungroup-defs|                |
+-------------------------------------+-------------------------------------+

.. |before-ungroup-defs| image:: https://razrfalcon.github.io/svgcleaner/images/before/ungroup-defs.svg
.. |after-ungroup-defs| image:: https://razrfalcon.github.io/svgcleaner/images/after/ungroup-defs.svg


Group elements by equal styles
------------------------------

If a continuous range of elements contains equal, inheritable attributes - we can
group such elements and move this attributes to a new or an existing parent group.

**Note:** this option is mostly poinless when XML indent is enabled,
so you should use it with *Sets XML nodes indent*/``--indent`` option equal to ``-1`` or ``0``.

CLI argument: ``--group-by-style``

+---------------------------------+----------------------------------+
| Before (292b)                   | After (291b)                     |
+---------------------------------+----------------------------------+
| .. code-block:: XML             | .. code-block:: XML              |
|                                 |                                  |
|   <svg>                         |   <svg>                          |
|     <circle fill="green" r="45" |     <g fill="green">             |
|             cx="50" cy="50"/>   |       <circle r="45"             |
|     <circle fill="green" r="45" |               cx="50" cy="50"/>  |
|             cx="100" cy="50"/>  |       <circle r="45"             |
|     <circle fill="green" r="45" |               cx="100" cy="50"/> |
|             cx="150" cy="50"/>  |       <circle r="45"             |
|   </svg>                        |               cx="150" cy="50"/> |
|                                 |     </g>                         |
|                                 |   </svg>                         |
+---------------------------------+----------------------------------+
| |before-group-by-style|         | |after-group-by-style|           |
+---------------------------------+----------------------------------+

.. |before-group-by-style| image:: https://razrfalcon.github.io/svgcleaner/images/before/group-by-style.svg
.. |after-group-by-style| image:: https://razrfalcon.github.io/svgcleaner/images/after/group-by-style.svg


Merge gradients
---------------

Many SVG editors split gradient implementation into two parts:
one element with ``stop`` children elements and one that linked to it.
It can be useful if we have a lot of gradients with equal stop's, but if we have only one - it
became pointless.

This option fixes it.

CLI argument: ``--merge-gradients``

+-------------------------------------------+--------------------------------------+
| Before (431b)                             | After (362b)                         |
+-------------------------------------------+--------------------------------------+
| .. code-block:: XML                       | .. code-block:: XML                  |
|                                           |                                      |
|   <svg>                                   |   <svg>                              |
|     <defs>                                |     <defs>                           |
|       <linearGradient id="lg1">           |       <linearGradient id="lg2">      |
|         <stop offset="0"                  |         <stop offset="0"             |
|               stop-color="yellow"/>       |               stop-color="yellow"/>  |
|         <stop offset="1"                  |         <stop offset="1"             |
|               stop-color="green"/>        |               stop-color="green"/>   |
|       </linearGradient>                   |       </linearGradient>              |
|       <linearGradient id="lg2"            |     </defs>                          |
|                       xlink:href="#lg1"/> |     <circle fill="url(#lg2)"         |
|     </defs>                               |             cx="50" cy="50" r="45"/> |
|     <circle fill="url(#lg2)"              |   </svg>                             |
|             cx="50" cy="50" r="45"/>      |                                      |
|   </svg>                                  |                                      |
+-------------------------------------------+--------------------------------------+
| |before-merge-gradients|                  | |after-merge-gradients|              |
+-------------------------------------------+--------------------------------------+

.. |before-merge-gradients| image:: https://razrfalcon.github.io/svgcleaner/images/before/merge-gradients.svg
.. |after-merge-gradients| image:: https://razrfalcon.github.io/svgcleaner/images/after/merge-gradients.svg


Regroup gradient ``stop`` elements
----------------------------------

If two or more gradients have equal ``stop`` elements - we can move this elements
into a new ``linearGradient`` and link gradients to this new gradient.

CLI argument: ``--regroup-gradient-stops``

+---------------------------------------+----------------------------------------------------+
| Before (590b)                         | After (523b)                                       |
+---------------------------------------+----------------------------------------------------+
| .. code-block:: XML                   | .. code-block:: XML                                |
|                                       |                                                    |
|   <svg>                               |   <svg>                                            |
|     <defs>                            |     <defs>                                         |
|       <linearGradient id="lg1">       |       <linearGradient id="lg3">                    |
|         <stop offset="0"              |         <stop offset="0"                           |
|               stop-color="yellow"/>   |               stop-color="yellow"/>                |
|         <stop offset="1"              |         <stop offset="1"                           |
|               stop-color="green"/>    |               stop-color="green"/>                 |
|       </linearGradient>               |       </linearGradient>                            |
|       <linearGradient id="lg2">       |       <linearGradient id="lg1" xlink:href="#lg3"/> |
|         <stop offset="0"              |       <linearGradient id="lg2" xlink:href="#lg3"/> |
|               stop-color="yellow"/>   |     </defs>                                        |
|         <stop offset="1"              |     <circle fill="url(#lg1)"                       |
|               stop-color="green"/>    |             cx="50" cy="50" r="45"/>               |
|       </linearGradient>               |     <circle fill="url(#lg2)"                       |
|     </defs>                           |             cx="100" cy="50" r="45"/>              |
|     <circle fill="url(#lg1)"          |   </svg>                                           |
|             cx="50" cy="50" r="45"/>  |                                                    |
|     <circle fill="url(#lg2)"          |                                                    |
|             cx="100" cy="50" r="45"/> |                                                    |
|   </svg>                              |                                                    |
+---------------------------------------+----------------------------------------------------+
| |before-regroup-gradient-stops|       | |after-regroup-gradient-stops|                     |
+---------------------------------------+----------------------------------------------------+

.. |before-regroup-gradient-stops| image:: https://razrfalcon.github.io/svgcleaner/images/before/regroup-gradient-stops.svg
.. |after-regroup-gradient-stops| image:: https://razrfalcon.github.io/svgcleaner/images/after/regroup-gradient-stops.svg


Remove invalid ``stop`` elements
--------------------------------

We can remove duplicated ``stop`` elements inside gradients.

CLI argument: ``--remove-invalid-stops``

+--------------------------------------------------+--------------------------------------------------+
| Before (529b)                                    | After (388b)                                     |
+--------------------------------------------------+--------------------------------------------------+
| .. code-block:: XML                              | .. code-block:: XML                              |
|                                                  |                                                  |
|   <svg>                                          |   <svg>                                          |
|     <defs>                                       |     <defs>                                       |
|       <linearGradient id="lg1">                  |       <linearGradient id="lg1">                  |
|          <stop offset="-1" stop-color="yellow"/> |          <stop offset="0" stop-color="yellow"/>  |
|          <stop offset="0" stop-color="yellow"/>  |          <stop offset="0.5" stop-color="green"/> |
|          <stop offset="0.5" stop-color="green"/> |          <stop offset="1" stop-color="yellow"/>  |
|          <stop offset="0.5" stop-color="green"/> |       </linearGradient>                          |
|          <stop offset="1" stop-color="yellow"/>  |     </defs>                                      |
|          <stop offset="10" stop-color="yellow"/> |     <circle fill="url(#lg1)"                     |
|       </linearGradient>                          |             cx="50" cy="50" r="45"/>             |
|     </defs>                                      |   </svg>                                         |
|     <circle fill="url(#lg1)"                     |                                                  |
|             cx="50" cy="50" r="45"/>             |                                                  |
|   </svg>                                         |                                                  |
+--------------------------------------------------+--------------------------------------------------+
| |before-remove-invalid-stops|                    | |after-remove-invalid-stops|                     |
+--------------------------------------------------+--------------------------------------------------+

.. |before-remove-invalid-stops| image:: https://razrfalcon.github.io/svgcleaner/images/before/remove-invalid-stops.svg
.. |after-remove-invalid-stops| image:: https://razrfalcon.github.io/svgcleaner/images/after/remove-invalid-stops.svg


Remove invisible elements
-------------------------

The collection of algorithms that detects invisible elements and removes them.

**Unsupported by:** QtSvg <= 5.7

CLI argument: ``--remove-invisible-elements``

+------------------------------------------------+--------------------------------------+
| Before (336b)                                  | After (174b)                         |
+------------------------------------------------+--------------------------------------+
| .. code-block:: XML                            | .. code-block:: XML                  |
|                                                |                                      |
|   <svg>                                        |   <svg>                              |
|     <linearGradient id="lg1"/>                 |     <circle fill="green"             |
|     <clipPath id="cp1"/>                       |             cx="50" cy="50" r="45"/> |
|     <circle fill="green"                       |   </svg>                             |
|             cx="50" cy="50" r="45"/>           |                                      |
|     <circle fill="green" clip-path="url(#cp1)" |                                      |
|             stroke="url(#lg1)"                 |                                      |
|             cx="100" cy="50" r="45"/>          |                                      |
|   </svg>                                       |                                      |
+------------------------------------------------+--------------------------------------+
| |before-remove-invisible-elements|             | |after-remove-invisible-elements|    |
+------------------------------------------------+--------------------------------------+

.. |before-remove-invisible-elements| image:: https://razrfalcon.github.io/svgcleaner/images/before/remove-invisible-elements.svg
.. |after-remove-invisible-elements| image:: https://razrfalcon.github.io/svgcleaner/images/after/remove-invisible-elements.svg


Resolve ``use`` elements
------------------------

We can replace ``use`` element with linked element if it used only by this ``use``.

CLI argument: ``--resolve-use``

+------------------------------------+----------------------------------+
| Before (253b)                      | After (197b)                     |
+------------------------------------+----------------------------------+
| .. code-block:: XML                | .. code-block:: XML              |
|                                    |                                  |
|   <svg>                            |   <svg>                          |
|     <defs>                         |     <circle id='circle1'         |
|       <circle id='circle1'         |             fill="green" cx="50" |
|               fill="green" cx="50" |             cy="50" r="45"/>     |
|               cy="50" r="45"/>     |   </svg>                         |
|     </defs>                        |                                  |
|     <use xlink:href='#circle1'/>   |                                  |
|   </svg>                           |                                  |
+------------------------------------+----------------------------------+
| |before-resolve-use|               | |after-resolve-use|              |
+------------------------------------+----------------------------------+

.. |before-resolve-use| image:: https://razrfalcon.github.io/svgcleaner/images/before/resolve-use.svg
.. |after-resolve-use| image:: https://razrfalcon.github.io/svgcleaner/images/after/resolve-use.svg


Attributes
==========

Remove ``version`` and ``baseProfile`` attributes
-------------------------------------------------

Remove ``version`` and ``baseProfile`` attributes from the ``svg`` element.

Some applications can rely on them, so someone may want to keep them.
Even throw they usually useless.

CLI argument: ``--remove-version``

+------------------------------------------+--------------------------------------+
| Before (207b)                            | After (174b)                         |
+------------------------------------------+--------------------------------------+
| .. code-block:: XML                      | .. code-block:: XML                  |
|                                          |                                      |
|   <svg version="1.1" baseProfile="tiny"> |   <svg>                              |
|     <circle fill="green"                 |     <circle fill="green"             |
|             cx="50" cy="50" r="45"/>     |             cx="50" cy="50" r="45"/> |
|   </svg>                                 |   </svg>                             |
+------------------------------------------+--------------------------------------+
| |before-remove-version|                  | |after-remove-version|               |
+------------------------------------------+--------------------------------------+

.. |before-remove-version| image:: https://razrfalcon.github.io/svgcleaner/images/before/remove-version.svg
.. |after-remove-version| image:: https://razrfalcon.github.io/svgcleaner/images/after/remove-version.svg


Remove non-SVG attributes
-------------------------

We can remove any `non-SVG attributes <https://www.w3.org/TR/SVG/attindex.html>`_
since they are not rendered either way.

**Note:** attributes from the SVG Tiny 1.2 and SVG 2.0 (unreleased) will also be removed.

CLI argument: ``--remove-nonsvg-attributes``

+---------------------------------------------+--------------------------------------+
| Before (193b)                               | After (174b)                         |
+---------------------------------------------+--------------------------------------+
| .. code-block:: XML                         | .. code-block:: XML                  |
|                                             |                                      |
|   <svg>                                     |   <svg>                              |
|     <circle fill="green" my-attribute="hi!" |     <circle fill="green"             |
|             cx="50" cy="50" r="45"/>        |             cx="50" cy="50" r="45"/> |
|   </svg>                                    |   </svg>                             |
+---------------------------------------------+--------------------------------------+
| |before-remove-nonsvg-attributes|           | |after-remove-nonsvg-attributes|     |
+---------------------------------------------+--------------------------------------+

.. |before-remove-nonsvg-attributes| image:: https://razrfalcon.github.io/svgcleaner/images/before/remove-nonsvg-attributes.svg
.. |after-remove-nonsvg-attributes| image:: https://razrfalcon.github.io/svgcleaner/images/after/remove-nonsvg-attributes.svg


Remove unreferenced ``id`` attributes
-------------------------------------

We can remove ``id`` attribute from an element if this ``id`` doesn't use in any IRI/FuncIRI.

**Note:** since ``svgcleaner`` works only with static/local SVG data and does not support
SVG scripting via ``script`` element, we can only assume that ``id`` is not used.

CLI argument: ``--remove-unreferenced-ids``

+----------------------------------------------------+------------------------------------------+
| Before (320b)                                      | After (287b)                             |
+----------------------------------------------------+------------------------------------------+
| .. code-block:: XML                                | .. code-block:: XML                      |
|                                                    |                                          |
|   <svg id="svg1">                                  |   <svg>                                  |
|     <circle id="circle1" fill="green"              |     <circle id="circle1" fill="green"    |
|             cx="50" cy="50" r="50"/>               |             cx="50" cy="50" r="50"/>     |
|     <circle id="circle2" fill="#023373"            |     <circle fill="#023373"               |
|             cx="100" cy="50" r="50"/>              |             cx="100" cy="50" r="50"/>    |
|     <use id="use1" x="100" xlink:href="#circle1"/> |     <use x="100" xlink:href="#circle1"/> |
|   </svg>                                           |   </svg>                                 |
+----------------------------------------------------+------------------------------------------+
| |before-remove-unreferenced-ids|                   | |after-remove-unreferenced-ids|          |
+----------------------------------------------------+------------------------------------------+

.. |before-remove-unreferenced-ids| image:: https://razrfalcon.github.io/svgcleaner/images/before/remove-unreferenced-ids.svg
.. |after-remove-unreferenced-ids| image:: https://razrfalcon.github.io/svgcleaner/images/after/remove-unreferenced-ids.svg


Trim ``id`` attributes
----------------------

Renames elements ``id`` attribute to a shorter one. All IRI and FuncIRI will be updated too.

Shorter name generated by encoding a serial number of this ``id`` attribute using a range of
acceptable chars: a-zA-Z0-9. Given that first char can't be 0-9.

For example: 1 -> a, 51 -> aa, 113 -> ba and so on.

CLI argument: ``--trim-ids``

+-------------------------------------------------------+-----------------------------------------+
| Before (522b)                                         | After (451b)                            |
+-------------------------------------------------------+-----------------------------------------+
| .. code-block:: XML                                   | .. code-block:: XML                     |
|                                                       |                                         |
|   <svg id="svg1">                                     |   <svg id="a">                          |
|     <defs id="defs1">                                 |     <defs id="b">                       |
|       <linearGradient id="linearGradient1">           |       <linearGradient id="c">           |
|         <stop id="stop1" offset="0"                   |         <stop id="d" offset="0"         |
|               stop-color="yellow"/>                   |               stop-color="yellow"/>     |
|         <stop id="stop2" offset="1"                   |         <stop id="e" offset="1"         |
|               stop-color="green"/>                    |               stop-color="green"/>      |
|       </linearGradient>                               |       </linearGradient>                 |
|       <radialGradient id="radialGradient1"            |       <radialGradient id="f"            |
|                       xlink:href="#linearGradient1"/> |                       xlink:href="#c"/> |
|     </defs>                                           |     </defs>                             |
|     <circle fill="url(#radialGradient1)"              |     <circle fill="url(#f)"              |
|             cx="50" cy="50" r="45"/>                  |             cx="50" cy="50" r="45"/>    |
|   </svg>                                              |   </svg>                                |
+-------------------------------------------------------+-----------------------------------------+
| |before-trim-ids|                                     | |after-trim-ids|                        |
+-------------------------------------------------------+-----------------------------------------+

.. |before-trim-ids| image:: https://razrfalcon.github.io/svgcleaner/images/before/trim-ids.svg
.. |after-trim-ids| image:: https://razrfalcon.github.io/svgcleaner/images/after/trim-ids.svg


Remove text-related attributes if there is no text
--------------------------------------------------

We can remove text-related attributes, when there is no text.

But since attributes like a `font` can impact a `length` values with a `em`/`ex` units
- it's a bit more complicated. Also, the text itself can be defined in many different ways.

CLI argument: ``--remove-text-attributes``

+-------------------------------------------+-------------------------------------------+
| Before (248b)                             | After (233b)                              |
+-------------------------------------------+-------------------------------------------+
| .. code-block:: XML                       | .. code-block:: XML                       |
|                                           |                                           |
|   <svg>                                   |   <svg>                                   |
|     <circle fill="green" font="Verdana"   |     <circle fill="green"                  |
|             cx="50" cy="50" r="45"/>      |             cx="50" cy="50" r="45"/>      |
|     <text y="30" x="30" font-size="14pt"> |     <text y="30" x="30" font-size="14pt"> |
|       Text                                |       Text                                |
|     </text>                               |     </text>                               |
|   </svg>                                  |   </svg>                                  |
+-------------------------------------------+-------------------------------------------+
| |before-remove-text-attributes|           | |after-remove-text-attributes|            |
+-------------------------------------------+-------------------------------------------+

.. |before-remove-text-attributes| image:: https://razrfalcon.github.io/svgcleaner/images/before/remove-text-attributes.svg
.. |after-remove-text-attributes| image:: https://razrfalcon.github.io/svgcleaner/images/after/remove-text-attributes.svg


Remove unused coordinate attributes
-----------------------------------

Many of coordinate attributes can be calculated using their neighbor attributes,
so there is no need to keep them.

CLI argument: ``--remove-unused-coordinates``

+------------------------------------+------------------------------------+
| Before (208b)                      | After (200b)                       |
+------------------------------------+------------------------------------+
| .. code-block:: XML                | .. code-block:: XML                |
|                                    |                                    |
|   <svg>                            |   <svg>                            |
|     <rect x="10" y="10" width="80" |     <rect x="10" y="10" width="80" |
|           height="80" fill="green" |           height="80" fill="green" |
|           rx="10" ry="10"/>        |           rx="10"/>                |
|   </svg>                           |   </svg>                           |
+------------------------------------+------------------------------------+
| |before-remove-unused-coordinates| | |after-remove-unused-coordinates|  |
+------------------------------------+------------------------------------+

.. |before-remove-unused-coordinates| image:: https://razrfalcon.github.io/svgcleaner/images/before/remove-unused-coordinates.svg
.. |after-remove-unused-coordinates| image:: https://razrfalcon.github.io/svgcleaner/images/after/remove-unused-coordinates.svg


Remove attributes with default values
-------------------------------------

We can remove attributes with default values if they are not covered by the parent elements.
Some attributes do not support an inheritance, so we can remove them
without checking a parent elements.

In the example below we have a ``circle`` element with a ``fill`` and a ``stroke`` attributes,
which have default values. We can't remove a ``fill`` from a ``circle``, because than the rect
will be filled with a red, but a ``stroke`` can be easily removed.

CLI argument: ``--remove-default-attributes``

+------------------------------------------+------------------------------------+
| Before (216b)                            | After (202b)                       |
+------------------------------------------+------------------------------------+
| .. code-block:: XML                      | .. code-block:: XML                |
|                                          |                                    |
|   <svg>                                  |   <svg>                            |
|     <g fill="red">                       |     <g fill="red">                 |
|       <circle fill="black" stroke="none" |       <circle fill="black" cx="50" |
|               cx="50" cy="50" r="45"/>   |               cy="50" r="45"/>     |
|     </g>                                 |     </g>                           |
|   </svg>                                 |   </svg>                           |
+------------------------------------------+------------------------------------+
| |before-remove-default-attributes|       | |after-remove-default-attributes|  |
+------------------------------------------+------------------------------------+

.. |before-remove-default-attributes| image:: https://razrfalcon.github.io/svgcleaner/images/before/remove-default-attributes.svg
.. |after-remove-default-attributes| image:: https://razrfalcon.github.io/svgcleaner/images/after/remove-default-attributes.svg


Remove an unused ``xmlns:xlink`` attribute
------------------------------------------

We can remove a ``xmlns:xlink`` attribute if document doesn't use an element
referencing via the ``xlink:href``.

CLI argument: ``--remove-xmlns-xlink-attribute``

+----------------------------------------------------+---------------------------------------------------+
| Before (164b)                                      | After (121b)                                      |
+----------------------------------------------------+---------------------------------------------------+
| .. code-block:: XML                                | .. code-block:: XML                               |
|                                                    |                                                   |
|   <svg xmlns:xlink="http://www.w3.org/1999/xlink"> |   <svg>                                           |
|     <circle fill="green" cx="50" cy="50" r="45"/>  |     <circle fill="green" cx="50" cy="50" r="45"/> |
|   </svg>                                           |   </svg>                                          |
+----------------------------------------------------+---------------------------------------------------+
| |before-remove-xmlns-xlink-attribute|              | |after-remove-xmlns-xlink-attribute|              |
+----------------------------------------------------+---------------------------------------------------+

.. |before-remove-xmlns-xlink-attribute| image:: https://razrfalcon.github.io/svgcleaner/images/before/remove-xmlns-xlink-attribute.svg
.. |after-remove-xmlns-xlink-attribute| image:: https://razrfalcon.github.io/svgcleaner/images/after/remove-xmlns-xlink-attribute.svg


Remove attributes that doesn't belong to this element
-----------------------------------------------------

Remove attributes that doesn't belong to current element and have no effect on rendering.

Unlike other cleaning options for attributes, this does not change attributes that can
be used during rendering.

CLI argument: ``--remove-needless-attributes``

+----------------------------------------------+------------------------------------------------+
| Before (359b)                                | After (267b)                                   |
+----------------------------------------------+------------------------------------------------+
| .. code-block:: XML                          | .. code-block:: XML                            |
|                                              |                                                |
|   <svg>                                      |   <svg>                                        |
|     <clipPath id="cp1">                      |     <clipPath id="cp1">                        |
|       <rect fill="red" stroke="red"          |       <rect width="75" height="75"/>           |
|             stroke-width="50" width="75"     |     </clipPath>                                |
|             height="75"/>                    |     <circle fill="green" clip-path="url(#cp1)" |
|     </clipPath>                              |             cx="50" cy="50" r="45"/>           |
|     <circle fill="green" d="M 10 20 L 30 40" |   </svg>                                       |
|             clip-path="url(#cp1)"            |                                                |
|             cx="50" cy="50" r="45"/>         |                                                |
|   </svg>                                     |                                                |
+----------------------------------------------+------------------------------------------------+
| |before-remove-needless-attributes|          | |after-remove-needless-attributes|             |
+----------------------------------------------+------------------------------------------------+

.. |before-remove-needless-attributes| image:: https://razrfalcon.github.io/svgcleaner/images/before/remove-needless-attributes.svg
.. |after-remove-needless-attributes| image:: https://razrfalcon.github.io/svgcleaner/images/after/remove-needless-attributes.svg


Remove inheritable gradient attributes
--------------------------------------

Gradients can inherit attributes via ``xlink:href`` attribute, so we can
remove attributes that already defined in the parent gradient.

Currently, only an ``gradientUnits`` attribute is processed.

**Unsupported by:** QtSvg <= 5.7, Inkscape <= 0.91 r13725

CLI argument: ``--remove-gradient-attributes``

+-----------------------------------------+-----------------------------------------+
| Before (642b)                           | After (531b)                            |
+-----------------------------------------+-----------------------------------------+
| .. code-block:: XML                     | .. code-block:: XML                     |
|                                         |                                         |
|   <svg>                                 |   <svg>                                 |
|       <linearGradient id="lg1"          |       <linearGradient id="lg1"          |
|         gradientUnits='userSpaceOnUse'> |         gradientUnits='userSpaceOnUse'> |
|         <stop offset="0"                |         <stop offset="0"                |
|           stop-color="yellow"/>         |           stop-color="yellow"/>         |
|         <stop offset="1"                |         <stop offset="1"                |
|           stop-color="green"/>          |           stop-color="green"/>          |
|       </linearGradient>                 |       </linearGradient>                 |
|       <linearGradient id="lg2"          |       <linearGradient id="lg2"          |
|         gradientUnits='userSpaceOnUse'  |         xlink:href="#lg1"/>             |
|         xlink:href="#lg1"/>             |       <linearGradient id="lg3"          |
|       <linearGradient id="lg3"          |         xlink:href="#lg2"/>             |
|         gradientUnits='userSpaceOnUse'  |       <radialGradient id="rg1"          |
|         xlink:href="#lg2"/>             |         xlink:href="#lg3"/>             |
|       <radialGradient id="rg1"          |     <circle fill="url(#rg1)"            |
|         gradientUnits='userSpaceOnUse'  |       cx="50" cy="50" r="45"/>          |
|         xlink:href="#lg3"/>             |   </svg>                                |
|     <circle fill="url(#rg1)"            |                                         |
|       cx="50" cy="50" r="45"/>          |                                         |
|   </svg>                                |                                         |
+-----------------------------------------+-----------------------------------------+
| |before-remove-gradient-attributes|     | |after-remove-gradient-attributes|      |
+-----------------------------------------+-----------------------------------------+

.. |before-remove-gradient-attributes| image:: https://razrfalcon.github.io/svgcleaner/images/before/remove-gradient-attributes.svg
.. |after-remove-gradient-attributes| image:: https://razrfalcon.github.io/svgcleaner/images/after/remove-gradient-attributes.svg


Join presentational attributes
------------------------------

SVG presentational attributes can be set via separated attributes and via ``style`` attribute.
If we have less than 5 presentational attributes - it's better to store them separately.
Otherwise ``style`` is shorter.

Possible values:

- no - do not join presentational attributes
- some - join presentational attributes when there are 6 or more of them
- all - join all presentational attributes. May produce a bigger file but can be
  used as a workaround of some viewers bugs.

Default: some

.. There is no example, because a style with 5 attributes will be a huge, nonbreakable line,
.. which will break the layout.

Apply transformations to gradients
----------------------------------

Transformations that contain only translate, rotate and/or proportional scale parts
can be applied to some gradients.

CLI argument: ``--apply-transform-to-gradients``

+--------------------------------------------------+----------------------------------------------+
| Before (461b)                                    | After (415b)                                 |
+--------------------------------------------------+----------------------------------------------+
| .. code-block:: XML                              | .. code-block:: XML                          |
|                                                  |                                              |
|   <svg>                                          |   <svg>                                      |
|     <linearGradient id="lg1" x1="40" y1="30"     |     <linearGradient id="lg1" x1="50" y1="50" |
|             x2="90" y2="30"                      |             x2="100" y2="50"                 |
|             gradientTransform="translate(10 20)" |             gradientUnits="userSpaceOnUse">  |
|             gradientUnits="userSpaceOnUse">      |       <stop offset="0"                       |
|       <stop offset="0"                           |             stop-color="yellow"/>            |
|             stop-color="yellow"/>                |       <stop offset="1"                       |
|       <stop offset="1"                           |             stop-color="green"/>             |
|             stop-color="green"/>                 |     </linearGradient>                        |
|     </linearGradient>                            |     <circle fill="url(#lg1)"                 |
|     <circle fill="url(#lg1)"                     |             cx="50" cy="50" r="45"/>         |
|             cx="50" cy="50" r="45"/>             |   </svg>                                     |
|   </svg>                                         |                                              |
+--------------------------------------------------+----------------------------------------------+
| |before-apply-transform-to-gradients|            | |after-apply-transform-to-gradients|         |
+--------------------------------------------------+----------------------------------------------+

.. |before-apply-transform-to-gradients| image:: https://razrfalcon.github.io/svgcleaner/images/before/apply-transform-to-gradients.svg
.. |after-apply-transform-to-gradients| image:: https://razrfalcon.github.io/svgcleaner/images/after/apply-transform-to-gradients.svg


Apply transformations to shapes
-------------------------------

Transformations that contain only translate, rotate and/or proportional scale parts
can be applied to some shapes.

This option will apply transformations to: ``rect``, ``circle``, ``ellipse`` and ``line``.

CLI argument: ``--apply-transform-to-shapes``

+---------------------------------------------------+-------------------------------------------+
| Before (239b)                                     | After (191b)                              |
+---------------------------------------------------+-------------------------------------------+
| .. code-block:: XML                               | .. code-block:: XML                       |
|                                                   |                                           |
|   <svg>                                           |   <svg>                                   |
|     <circle fill="green" stroke-width='0'         |     <circle fill="green" stroke-width='0' |
|             transform="translate(10 10) scale(2)" |             cx="50" cy="50" r="44"/>      |
|             cx="20" cy="20" r="22"/>              |   </svg>                                  |
|   </svg>                                          |                                           |
+---------------------------------------------------+-------------------------------------------+
| |before-apply-transform-to-shapes|                | |after-apply-transform-to-shapes|         |
+---------------------------------------------------+-------------------------------------------+

.. |before-apply-transform-to-shapes| image:: https://razrfalcon.github.io/svgcleaner/images/before/apply-transform-to-shapes.svg
.. |after-apply-transform-to-shapes| image:: https://razrfalcon.github.io/svgcleaner/images/after/apply-transform-to-shapes.svg


Remove unresolved classes from ``class`` attributes
---------------------------------------------------

The ``class`` attribute can contain a list of class selectors,
but not all of them may link to the style sheet defined in the file.

This option will remove such selectors.

**Note:** you can't prevent class attribute resolving anyway. This option should be used
just to keep unresolved classes in the ``class`` attribute when you define them elsewhere.
So you should disable it to get such behavior.

CLI argument: ``--remove-unresolved-classes``

+--------------------------------------------+--------------------------------------+
| Before (247b)                              | After (174b)                         |
+--------------------------------------------+--------------------------------------+
| .. code-block:: XML                        | .. code-block:: XML                  |
|                                            |                                      |
|   <svg id="svg1">                          |   <svg>                              |
|     <style>                                |     <circle fill="green"             |
|       .fill1 {fill:green}                  |             cx="50" cy="50" r="50"/> |
|     </style>                               |   </svg>                             |
|     <circle class=".fill1 .stroke1 .other" |                                      |
|             cx="50" cy="50" r="50"/>       |                                      |
|   </svg>                                   |                                      |
+--------------------------------------------+--------------------------------------+
| |before-remove-unresolved-classes|         | |after-remove-unresolved-classes|    |
+--------------------------------------------+--------------------------------------+

.. |before-remove-unresolved-classes| image:: https://razrfalcon.github.io/svgcleaner/images/before/remove-unresolved-classes.svg
.. |after-remove-unresolved-classes| image:: https://razrfalcon.github.io/svgcleaner/images/after/remove-unresolved-classes.svg


Paths
=====

Convert path segments into relative ones
----------------------------------------

Since segments of the path data can be set in absolute and relative coordinates -
we can convert all of them into relative one, which is generally shorter.

CLI argument: ``--paths-to-relative``

+--------------------------------------------+-----------------------------------------+
| Before (286b)                              | After (277b)                            |
+--------------------------------------------+-----------------------------------------+
| .. code-block:: XML                        | .. code-block:: XML                     |
|                                            |                                         |
|   <svg>                                    |   <svg>                                 |
|     <path d="M 750 150 L 800 200 L 850 150 |     <path d="m 750 150 l 50 50 l 50 -50 |
|              L 850 250 L 850 350 L 800 300 |              l 0 100 l 0 100 l -50 -50  |
|              L 750 350 L 750 250 Z"        |              l -50 50 l 0 -100 z"       |
|           transform="scale(0.1)"           |           transform="scale(0.1)"        |
|           fill="green"/>                   |           fill="green"/>                |
|   </svg>                                   |   </svg>                                |
+--------------------------------------------+-----------------------------------------+
| |before-paths-to-relative|                 | |after-paths-to-relative|               |
+--------------------------------------------+-----------------------------------------+

.. |before-paths-to-relative| image:: https://razrfalcon.github.io/svgcleaner/images/before/paths-to-relative.svg
.. |after-paths-to-relative| image:: https://razrfalcon.github.io/svgcleaner/images/after/paths-to-relative.svg


Remove unused path segments
---------------------------

The collection of algorithms that removes unneeded segments from paths.

**NOTE:** can be used only with ``--paths-to-relative``.

CLI argument: ``--remove-unused-segments``

+---------------------------------------------------------+---------------------------------------------+
| Before (191b)                                           | After (158b)                                |
+---------------------------------------------------------+---------------------------------------------+
| .. code-block:: XML                                     | .. code-block:: XML                         |
|                                                         |                                             |
|   <svg>                                                 |   <svg>                                     |
|     <path stroke="red"                                  |     <path stroke="red" d="M 10 10 V 50 Z"/> |
|           d="M 10 10 L 10 50 L 10 10 M 50 50 L 50 50"/> |   </svg>                                    |
|   </svg>                                                |                                             |
+---------------------------------------------------------+---------------------------------------------+
| |before-remove-unused-segments|                         | |after-remove-unused-segments|              |
+---------------------------------------------------------+---------------------------------------------+

.. |before-remove-unused-segments| image:: https://razrfalcon.github.io/svgcleaner/images/before/remove-unused-segments.svg
.. |after-remove-unused-segments| image:: https://razrfalcon.github.io/svgcleaner/images/after/remove-unused-segments.svg


Convert path segments into shorter ones
---------------------------------------

Some segments can be represented using different segment types
keeping a resulting shape exactly the same.
We only use conversions that make path notation shorter.

Currently supported conversions are:

- LineTo -> HorizontalLineTo
- LineTo -> VerticalLineTo
- CurveTo -> HorizontalLineTo
- CurveTo -> VerticalLineTo
- CurveTo -> LineTo
- CurveTo -> SmoothCurveTo

CLI argument: ``--convert-segments``

+---------------------------------------------------+----------------------------------------+
| Before (265b)                                     | After (247b)                           |
+---------------------------------------------------+----------------------------------------+
| .. code-block:: XML                               | .. code-block:: XML                    |
|                                                   |                                        |
|   <svg>                                           |   <svg>                                |
|     <path fill="none" stroke="red"                |     <path fill="none" stroke="red"     |
|           stroke-width="2"                        |           stroke-width="2"             |
|           d="M 10 15 C 10 15 72.5 10 72.5 55      |           d="M 10 15 S 72.5 10 72.5 55 |
|              C 72.5 100 135 100 135 55 L 10 55"/> |              S 135 100 135 55 H 10"/>  |
|   </svg>                                          |   </svg>                               |
+---------------------------------------------------+----------------------------------------+
| |before-convert-segments|                         | |after-convert-segments|               |
+---------------------------------------------------+----------------------------------------+

.. |before-convert-segments| image:: https://razrfalcon.github.io/svgcleaner/images/before/convert-segments.svg
.. |after-convert-segments| image:: https://razrfalcon.github.io/svgcleaner/images/after/convert-segments.svg



Apply transformations to paths
------------------------------

Transformations that contain only translate, rotate and/or proportional scale parts
can be applied to some paths.

This usually creates bigger files, so it's disabled by default.
But it some cases it can be useful.

CLI argument: ``--apply-transform-to-paths``

+----------------------------------------+----------------------------------+
| Before (203b)                          | After (167b)                     |
+----------------------------------------+----------------------------------+
| .. code-block:: XML                    | .. code-block:: XML              |
|                                        |                                  |
|   <svg>                                |   <svg>                          |
|     <path stroke="red"                 |     <path stroke="red"           |
|           transform="translate(10 20)" |           d="M 20 20 L 40 60"/>  |
|           d="M 10 0 L 30 40"/>         |   </svg>                         |
|   </svg>                               |                                  |
+----------------------------------------+----------------------------------+
| |before-apply-transform-to-paths|      | |after-apply-transform-to-paths| |
+----------------------------------------+----------------------------------+

.. |before-apply-transform-to-paths| image:: https://razrfalcon.github.io/svgcleaner/images/before/apply-transform-to-paths.svg
.. |after-apply-transform-to-paths| image:: https://razrfalcon.github.io/svgcleaner/images/after/apply-transform-to-paths.svg


Use compact notation for paths
------------------------------

By SVG spec we are allowed to remove some symbols from path notation without breaking parsing.

CLI argument: ``--trim-paths``

+---------------------------------------------+-------------------------------------------------------+
| Before (251b)                               | After (227b)                                          |
+---------------------------------------------+-------------------------------------------------------+
| .. code-block:: XML                         | .. code-block:: XML                                   |
|                                             |                                                       |
|   <svg>                                     |   <svg>                                               |
|     <path fill="green" stroke="red"         |     <path fill="green" stroke="red"                   |
|           stroke-width="2"                  |           stroke-width="2"                            |
|           d="M 30 60 a 25 25 -30 1 1 50,-20 |           d="M30 60a25 25-30 1 1 50-20l.5.5l30 60z"/> |
|              l 0.5 0.5 l 30 60 z"/>         |   </svg>                                              |
|   </svg>                                    |                                                       |
+---------------------------------------------+-------------------------------------------------------+
| |before-trim-paths|                         | |after-trim-paths|                                    |
+---------------------------------------------+-------------------------------------------------------+

.. |before-trim-paths| image:: https://razrfalcon.github.io/svgcleaner/images/before/trim-paths.svg
.. |after-trim-paths| image:: https://razrfalcon.github.io/svgcleaner/images/after/trim-paths.svg


Join ArcTo flags
----------------

Elliptical arc curve segment has flags parameters, which can have values of ``0`` or ``1``.
Since we have fixed-width values, we can skip spaces between them.

**Unsupported by:** Inkscape <= 0.91 r13725, QtSvg <= 5.7, librsvg <= 2.40.13

CLI argument: ``--join-arcto-flags``

+----------------------------------------+--------------------------------------+
| Before (231b)                          | After (229b)                         |
+----------------------------------------+--------------------------------------+
| .. code-block:: XML                    | .. code-block:: XML                  |
|                                        |                                      |
|   <svg>                                |   <svg>                              |
|     <path fill="green" stroke="red"    |     <path fill="green" stroke="red"  |
|           stroke-width="2"             |           stroke-width="2"           |
|           d="M 30 60                   |           d="M 30 60                 |
|              a 25 25 -30 1 1 50 -20"/> |              a 25 25 -30 1150 -20"/> |
|   </svg>                               |   </svg>                             |
+----------------------------------------+--------------------------------------+
| |before-join-arcto-flags|              | |after-join-arcto-flags|             |
+----------------------------------------+--------------------------------------+

.. |before-join-arcto-flags| image:: https://razrfalcon.github.io/svgcleaner/images/before/join-arcto-flags.svg
.. |after-join-arcto-flags| image:: https://razrfalcon.github.io/svgcleaner/images/after/join-arcto-flags.svg


Remove subsequent segments command from paths
---------------------------------------------

If path segment has the same type as previous - we can skip command specifier.

CLI argument: ``--remove-dupl-cmd-in-paths``

+--------------------------------------+------------------------------------+
| Before (241b)                        | After (235b)                       |
+--------------------------------------+------------------------------------+
| .. code-block:: XML                  | .. code-block:: XML                |
|                                      |                                    |
|   <svg>                              |   <svg>                            |
|     <path d="M 10 10 L 90 10 L 90 90 |     <path d="M 10 10 L 90 10 90 90 |
|              L 10 90 L 10 10 z"      |              10 90 10 10 z"        |
|           fill="none" stroke="red"   |           fill="none" stroke="red" |
|           stroke-width="2"/>         |           stroke-width="2"/>       |
|   </svg>                             |   </svg>                           |
+--------------------------------------+------------------------------------+
| |before-remove-dupl-cmd-in-paths|    | |after-remove-dupl-cmd-in-paths|   |
+--------------------------------------+------------------------------------+

.. |before-remove-dupl-cmd-in-paths| image:: https://razrfalcon.github.io/svgcleaner/images/before/remove-dupl-cmd-in-paths.svg
.. |after-remove-dupl-cmd-in-paths| image:: https://razrfalcon.github.io/svgcleaner/images/after/remove-dupl-cmd-in-paths.svg


Use implicit LineTo commands
----------------------------

By SVG spec: 'if a moveto is followed by multiple pairs of coordinates, the subsequent pairs
are treated as implicit lineto commands'.

CLI argument: ``--use-implicit-cmds``

+------------------------------------------+--------------------------------------+
| Before (214b)                            | After (210b)                         |
+------------------------------------------+--------------------------------------+
| .. code-block:: XML                      | .. code-block:: XML                  |
|                                          |                                      |
|   <svg>                                  |   <svg>                              |
|     <path fill="green" stroke="red"      |     <path fill="green" stroke="red"  |
|           stroke-width="2"               |           stroke-width="2"           |
|           d="M 10 10 L 50 50 L 120 50"/> |           d="M 10 10 50 50 120 50"/> |
|   </svg>                                 |   </svg>                             |
+------------------------------------------+--------------------------------------+
| |before-use-implicit-cmds|               | |after-use-implicit-cmds|            |
+------------------------------------------+--------------------------------------+

.. |before-use-implicit-cmds| image:: https://razrfalcon.github.io/svgcleaner/images/before/use-implicit-cmds.svg
.. |after-use-implicit-cmds| image:: https://razrfalcon.github.io/svgcleaner/images/after/use-implicit-cmds.svg


Output
======

Use #RGB notation
-----------------

Use #RGB notation instead of #RRGGBB when possible.

**NOTE:** by default all color stored as #RRGGBB, since ``libsvgdom`` doesn't stores
colors original text representation.

CLI argument: ``--trim-colors``

+-----------------------------------------------------+--------------------------------------------------+
| Before (166b)                                       | After (163b)                                     |
+-----------------------------------------------------+--------------------------------------------------+
| .. code-block:: XML                                 | .. code-block:: XML                              |
|                                                     |                                                  |
|   <svg>                                             |   <svg>                                          |
|     <circle fill="#00ff00" cx="50" cy="50" r="45"/> |     <circle fill="#0f0" cx="50" cy="50" r="45"/> |
|   </svg>                                            |   </svg>                                         |
+-----------------------------------------------------+--------------------------------------------------+
| |before-trim-colors|                                | |after-trim-colors|                              |
+-----------------------------------------------------+--------------------------------------------------+

.. |before-trim-colors| image:: https://razrfalcon.github.io/svgcleaner/images/before/trim-colors.svg
.. |after-trim-colors| image:: https://razrfalcon.github.io/svgcleaner/images/after/trim-colors.svg


Simplify transform matrices
---------------------------

Simplify transform matrices into short equivalent when possible.

CLI argument: ``--simplify-transforms``

+------------------------------------------------+-----------------------------------------+
| Before (217b)                                  | After (210b)                            |
+------------------------------------------------+-----------------------------------------+
| .. code-block:: XML                            | .. code-block:: XML                     |
|                                                |                                         |
|   <svg>                                        |   <svg>                                 |
|     <circle fill="green" cx="50"               |     <circle fill="green" cx="50"        |
|             cy="50" r="45"                     |             cy="50" r="45"              |
|             transform="matrix(1 0 0 1 25 0)"/> |             transform="translate(25)"/> |
|   </svg>                                       |   </svg>                                |
+------------------------------------------------+-----------------------------------------+
| |before-simplify-transforms|                   | |after-simplify-transforms|             |
+------------------------------------------------+-----------------------------------------+

.. |before-simplify-transforms| image:: https://razrfalcon.github.io/svgcleaner/images/before/simplify-transforms.svg
.. |after-simplify-transforms| image:: https://razrfalcon.github.io/svgcleaner/images/after/simplify-transforms.svg


Set coordinates numeric precision
---------------------------------

Reduce the numeric precision of the specific coordinate attributes.

This includes: x, y, dx, dy, x1, y1, x2, y2, r, rx, ry, cx, cy, fx, fy, width, height,
and translate part of transforms.

Range: 1..12

Default: 6

Set properties numeric precision
--------------------------------

Reduce the numeric precision of the specific properties attributes.

This includes: stroke-dashoffset, stroke-miterlimit, stroke-width, opacity, fill-opacity,
flood-opacity, stroke-opacity, stop-opacity, font-size.

Range: 1..12

Default: 6

Set transforms values numeric precision
---------------------------------------

Set numeric precision of the a, b, c, d values of transforms.

Range: 1..12

Default: 8

Set path's coordinates numeric precision
----------------------------------------

We can reduce the numeric precision of path's coordinates without breaking it.

Range: 1..12, where
 - 8..12 is basically lossless
 - 4..7 will give an actual impact on the file size
 - 1..3 is **very dangerous** and will probably break your file

Default: 8

CLI argument: ``--paths-coordinates-precision``

+-------------------------------------------+---------------------------------------+
| Before (286b)                             | After (273b)                          |
+-------------------------------------------+---------------------------------------+
| .. code-block:: XML                       | .. code-block:: XML                   |
|                                           |                                       |
|   <svg>                                   |   <svg>                               |
|     <path d="M 10.000001 10.000005        |     <path d="M 10 10.00001            |
|              L 89.99999 10.11111          |              L 89.99999 10.11111      |
|              L 89.997777 90.0005          |              L 89.99778 90.0005       |
|              L 10.123456789 90 L 10 10 z" |              L 10.12346 90 L 10 10 z" |
|           fill="none" stroke="red"/>      |           fill="none" stroke="red"/>  |
|   </svg>                                  |   </svg>                              |
+-------------------------------------------+---------------------------------------+
| |before-paths-coordinates-precision|      | |after-paths-coordinates-precision|   |
+-------------------------------------------+---------------------------------------+

.. |before-paths-coordinates-precision| image:: https://razrfalcon.github.io/svgcleaner/images/before/paths-coordinates-precision.svg
.. |after-paths-coordinates-precision| image:: https://razrfalcon.github.io/svgcleaner/images/after/paths-coordinates-precision.svg


Sets XML nodes indent
---------------------

Set indent for XML nodes.

- none - no indention and new lines
- 0 - no indention
- 1..4 - indent with *n* spaces
- tabs - indent with tabs

Default: none

CLI argument: ``--indent``

+-----------------------------------------------------+-------------------------------------------------------------------+
| Before (179b)                                       | After (167b)                                                      |
+-----------------------------------------------------+-------------------------------------------------------------------+
| .. code-block:: XML                                 | .. code-block:: XML                                               |
|                                                     |                                                                   |
|   <svg>                                             |   <svg><g><circle fill="green" cx="50" cy="50" r="45"/></g></svg> |
|     <g>                                             |                                                                   |
|       <circle fill="green" cx="50" cy="50" r="45"/> |                                                                   |
|     </g>                                            |                                                                   |
|   </svg>                                            |                                                                   |
+-----------------------------------------------------+-------------------------------------------------------------------+
| |before-indent|                                     | |after-indent|                                                    |
+-----------------------------------------------------+-------------------------------------------------------------------+

.. |before-indent| image:: https://razrfalcon.github.io/svgcleaner/images/before/indent.svg
.. |after-indent| image:: https://razrfalcon.github.io/svgcleaner/images/after/indent.svg


Other
=====

Reset default flags to ``no``
-----------------------------

Most of the cleaning options are enabled by default.
This flag allows to disable them all at once.

It can be useful if you need only few cleaning options.

Note that this flag applies only to options with the ``<FLAG>`` type.
Options like ``indent`` will still use default values.

CLI argument: ``--no-defaults``

